# Copyright (c) Microsoft Corporation.
# Licensed under the MIT License.

name: CodeQL CBL-Mariner repository

parameters:
  - name: analyzeInPipeline
    displayName: "local analysis (for debugging)"
    type: boolean
    default: true

resources:
  repositories:
    - repository: CBL-Mariner-Pipelines
      type: git
      name: mariner/CBL-Mariner-Pipelines
      ref: 'refs/heads/nicolasg/codeQL-toolkit'

stages:
  - stage: CodeQlAnalysis
    jobs:
    - template: SDL/pipelines/CodeQL-template.yml@CBL-Mariner-Pipelines
      parameters:
        analyzeInPipeline: ${{ parameters.analyzeInPipeline }}
