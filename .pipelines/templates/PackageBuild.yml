parameters:
  - name: isCheckBuild
    type: string
    default: "false"
  - name: inputArtifactsFolder
    type: string
    default: "input"
  - name: inputArtifactsName
    type: string
    default: "ARTIFACTS"
  - name: isExternalToolchain
    type: boolean
    default: false

steps:
  - ${{ if eq(parameters.isExternalToolchain, false) }}:
    - task: DownloadPipelineArtifact@2
      displayName: "Download toolchain"
      inputs:
        artifact: "${{ parameters.inputArtifactsName }}"
        patterns: "**/toolchain_built_rpms_all.tar.gz"
        path: "$(Build.Repository.LocalPath)/${{ parameters.inputArtifactsFolder }}"

  - script: |
      cat <<EOF
      This is a package build.
      The host architecture is: $(uname -m)
      Running checks: ${{ parameters.isCheckBuild }}
      EOF
    displayName: "Print parameters"
