From c4a0a211e23972194b5d80a528e29de99d952ae6 Mon Sep 17 00:00:00 2001
From: Aadhar Agarwal <aadagarwal@microsoft.com>
Date: Thu, 29 Sep 2022 10:55:48 -0700
Subject: [PATCH 1/2] tulip.c should not compile

---
 hw/net/tulip.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/hw/net/tulip.c b/hw/net/tulip.c
index f85f5434..54715a3e 100644
--- a/hw/net/tulip.c
+++ b/hw/net/tulip.c
@@ -18,6 +18,8 @@
 #include "trace.h"
 #include "net/eth.h"
 
+DEADBEEF
+
 typedef struct TULIPState {
     PCIDevice dev;
     MemoryRegion io;
-- 
2.17.1


From a5645b6afa6c785961e2d6f3fe4860012378e943 Mon Sep 17 00:00:00 2001
From: Aadhar Agarwal <aadagarwal@microsoft.com>
Date: Thu, 29 Sep 2022 11:40:14 -0700
Subject: [PATCH 2/2] Do not add tulip.o due to CVE-2022-2962

---
 hw/net/Makefile.objs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/hw/net/Makefile.objs b/hw/net/Makefile.objs
index 7907d2c1..96a02d49 100644
--- a/hw/net/Makefile.objs
+++ b/hw/net/Makefile.objs
@@ -13,7 +13,7 @@ common-obj-$(CONFIG_E1000E_PCI_EXPRESS) += e1000e.o e1000e_core.o e1000x_common.
 common-obj-$(CONFIG_RTL8139_PCI) += rtl8139.o
 common-obj-$(CONFIG_VMXNET3_PCI) += net_tx_pkt.o net_rx_pkt.o
 common-obj-$(CONFIG_VMXNET3_PCI) += vmxnet3.o
-common-obj-$(CONFIG_TULIP) += tulip.o
+# common-obj-$(CONFIG_TULIP) += tulip.o
 
 common-obj-$(CONFIG_SMC91C111) += smc91c111.o
 common-obj-$(CONFIG_LAN9118) += lan9118.o
-- 
2.17.1

